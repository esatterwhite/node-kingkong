<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Kingkong Modules cage/bin/cliking/lib/optionskingkongkingkong/lib/validation/apikingkong/lib/validation/consumerkingkong/lib/validation/pluginscripts/test Events kingkong#event:sync Modules Classes module:king/lib/options module:kingkong Events sync × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" Kingkong Modules cage/bin/cliking/lib/optionskingkongkingkong/lib/validation/apikingkong/lib/validation/consumerkingkong/lib/validation/pluginscripts/test Events kingkong#event:sync King KongHTTP Client For Kong Api Gateway King is a small library for managing api, consumer and plugin configuration of a KONG cluster.The primary purpose is to keep API configuration in sync by either creating or updating records using the kongadmin api. It is not intended to configure kong servers Version 2.x targest Kong v0.10.0+, for Kong v0.9.0, use Version 1.x of this project A kingkong instance can take multiple hosts and will round-robbin between them. Currently it will not remove hosts that fail to respond. require('util'); var King = require('kingkong'); var k = new King({ hosts:'http://localhost:8001, http://localhost:8002' ,sync:true // auto sync configuration ,apis:[{ &quot;upstream_url&quot;: &quot;http://127.0.0.1:3000/api/v1&quot;, &quot;request_path&quot;: &quot;/fakeservice&quot;, &quot;strip_request_path&quot;: true, &quot;name&quot;: &quot;integration&quot;, &quot;plugins&quot;:{ &quot;http-log&quot;:{ config:{ http_endpoint:'http://127.0.0.1:3005', method:'POST' } } } }] ,onSync: function(){ console.log('synced'); } });List all APIsYou can fetch all apis currently registered using the list method var King = require('kingkong') var k = new King({ hosts:['http://localhost:8001', 'http://localhost:8002'] }); k.list('apis').then( console.log)List all PluginsYou can fetch all Plugins currently registered using the list method var King = require('kingkong') var k = new King({ hosts:['http://localhost:8001', 'http://localhost:8002'] }); k.list('plugins').then( console.log )List all ConsumersYou can fetch all Consumers currently registered using the list method var King = require('kingkong') var k = new King({ hosts:['http://localhost:8001', 'http://localhost:8002'] }); k.list('consumers').then( console.log ) × Search results Close "},"module-cage_bin_cli.html":{"id":"module-cage_bin_cli.html","title":"Module: cage/bin/cli","body":" Kingkong Modules cage/bin/cliking/lib/optionskingkongkingkong/lib/validation/apikingkong/lib/validation/consumerkingkong/lib/validation/pluginscripts/test Events kingkong#event:sync Module: cage/bin/cli Command line Interface for fulfill. This module is here to load other managementcommands. And that is about it. Since: 1.3.0 Author: Eric Satterwhite Requires module:seeli module:path module:fs module:debug × Search results Close "},"module-king_lib_options.html":{"id":"module-king_lib_options.html","title":"Module: king/lib/options","body":" Kingkong Modules cage/bin/cliking/lib/optionskingkongkingkong/lib/validation/apikingkong/lib/validation/consumerkingkong/lib/validation/pluginscripts/test Events kingkong#event:sync Module: king/lib/options Provides a simple and standard way to include class configuration options new (require(&quot;king/lib/options&quot;))(options) Object class mixing which provides a standard way of defining configuration options on a class instance Parameters: Name Type Description options Object and object containing configutation overrides to set on the class instance Example var X = Class({ mixin: [ Options ] ,options:{ &quot;value1&quot;: 1 ,&quot;value2&quot;:2 } , constructor: function( options ){ this.setOptions( options ) } }); var x = new X({ &quot;value1&quot;:2 ,&quot;value2&quot;1 }) Requires module:prime module:mout/object/merge module:mout/array/append Methods &lt;inner&gt; setOptions(Options) merges an object into existing instance options and stores them in an options property Parameters: Name Type Description Options Objecdt conifguration options to be merged into defaults Returns: Type Object × Search results Close "},"module-kingkong.html":{"id":"module-kingkong.html","title":"Module: kingkong","body":" Kingkong Modules cage/bin/cliking/lib/optionskingkongkingkong/lib/validation/apikingkong/lib/validation/consumerkingkong/lib/validation/pluginscripts/test Events kingkong#event:sync Module: kingkong Primay Client class for interfacing with kong new (require(&quot;kingkong&quot;))( [options]) Extends: EventEmitter Parameters: Name Type Argument Description options Object &lt;optional&gt; Properties Name Type Argument Default Description hosts String | Array.&lt;String&gt; &lt;optional&gt; http://localhost:8001 apis module:kingkong~Api | Array.&lt;module:kingkong~Api&gt; &lt;optional&gt; an array of api configurations to be created or updated when the instance is created autodelete Boolean &lt;optional&gt; false if set to true api plugins will be deleted from kong when they are not present in the related config Examples var king = (new require('kingkong')({ hosts:['http://localhost:8001', 'http://localhost:8002', 'http://locahost:8003'] }); var king = (new require('kingkong')({ hosts:'http://localhost:8001, http://localhost:8002, http://locahost:8003', apis:[{ &quot;upstream_url&quot;: &quot;http://192.168.1.135:3000/api/v1&quot;, uris: [&quot;/integration&quot;], &quot;strip_uri&quot;: true, &quot;name&quot;: &quot;integration&quot;, &quot;plugins&quot;:{ &quot;http-log&quot;:{ config:{ http_endpoint:'http://192.168.1.135:3005', method:'POST' } } } }] }); Requires module:prime module:url module:util module:debug module:co module:co-request module:urljoin module:events module:mout/lang/toArray module:mout/lang/isString module:mout/lang/compact module:mout/collection/forEach module:kingkong/lib/options module:kingkong/lib/validation/api module:kingkong/lib/validation/consumer module:kingkong/lib/validation/plugin Methods create(resource, items) Creates one or more instance of a resource. If the resource already exists, it will be updated Parameters: Name Type Description resource String The type of resource to generate a url for ( api, plugin, consumer ) items Object | Array.&lt;Object&gt; configurations of the resource to create Returns: Type TYPE destroy(resource, id) Destroys a specific resource Parameters: Name Type Description resource String the type of resource to operate on ( api, consumer, plugin ) id String The id or name of a specific resource to destroy Returns: Type Promise get(resource, id) List a specific resource Parameters: Name Type Description resource String the resource to get id String or name of the specific instance to get Returns: Type Array list(resource) List a specific resource type Parameters: Name Type Description resource String the resource to list Returns: Resolves an array of resource objects Type Promise plugins(id, data) Creates and configures plugins for a specific API instance Parameters: Name Type Description id String of the api the plugin should be assiociated with data Object The configuration for the plugin Returns: Type Promise request(resource [, id] [, data] [, codes]) Generates a valid url for a kong request, cycling through one of the hosts for each call Parameters: Name Type Argument Description resource String The type of resource to generate a url for ( api, plugin, consumer ) id String &lt;optional&gt; the id or name of a specific resource data Object &lt;optional&gt; optional body of the request codes Array &lt;optional&gt; optional array of HTTP status codes that are not considered an error Returns: A promise that will resolve to the result of the request Type Promise sync() Syncs api and consumer configuration with a kong instance.matching records will be updatedmissing records will be createdrecords that do not exists in the configuration will be removed Fires: module:kingkong#event:sync Returns: Type Promise update(resource, id, data) pudates a resource in place by id, or name Parameters: Name Type Description resource String the name of the resource type ( api, plugin, consumer) id String The id or name of the resource to update data Object a data object to update the resource with Returns: Type Object url(resource [, id]) Generates a valid url for a kong request, cycling through one of the hosts for each call Parameters: Name Type Argument Description resource String The type of resource to generate a url for ( api, plugin, consumer ) id String &lt;optional&gt; the id or name of a specific resource Returns: the url for request to kong Type String Type Definitions Api Configuration for creating an api instance with kong Type: Object Properties: Name Type Argument Default Description plugins Object &lt;optional&gt; An object where the key is the name of a valid plugin, and the value is an object of the configuration to create/update it with name String The name of the being created / updated request_host String &lt;optional&gt; Public DNS, or ip address request_path String &lt;optional&gt; The public path that points to your api - /somservice. On of request_host or request_path must be specified strip_request_path Boolean &lt;optional&gt; false Determines if the original request path is removed before proxying the request to the upstream service preserve_host Boolean &lt;optional&gt; false Determines if the original Host header sent from the client should be preserved. If false, upstream_url is used upstream_url String The target URL of the backend service responsible for handling the request - http://api.foobar.com Events sync × Search results Close "},"module-kingkong_lib_validation_api.html":{"id":"module-kingkong_lib_validation_api.html","title":"Module: kingkong/lib/validation/api","body":" Kingkong Modules cage/bin/cliking/lib/optionskingkongkingkong/lib/validation/apikingkong/lib/validation/consumerkingkong/lib/validation/pluginscripts/test Events kingkong#event:sync Module: kingkong/lib/validation/api Provides api object schema validation Since: 1.0.0 Author: Eric Satterwhite Requires module:joi × Search results Close "},"module-kingkong_lib_validation_consumer.html":{"id":"module-kingkong_lib_validation_consumer.html","title":"Module: kingkong/lib/validation/consumer","body":" Kingkong Modules cage/bin/cliking/lib/optionskingkongkingkong/lib/validation/apikingkong/lib/validation/consumerkingkong/lib/validation/pluginscripts/test Events kingkong#event:sync Module: kingkong/lib/validation/consumer Provides consumer object schema validation Since: 1.0.0 Author: Eric Satterwhite Requires module:joi × Search results Close "},"module-kingkong_lib_validation_plugin.html":{"id":"module-kingkong_lib_validation_plugin.html","title":"Module: kingkong/lib/validation/plugin","body":" Kingkong Modules cage/bin/cliking/lib/optionskingkongkingkong/lib/validation/apikingkong/lib/validation/consumerkingkong/lib/validation/pluginscripts/test Events kingkong#event:sync Module: kingkong/lib/validation/plugin Provides plugin object schema validation Since: 1.0.0 Author: Eric Satterwhite Requires module:joi × Search results Close "},"module-scripts_test.html":{"id":"module-scripts_test.html","title":"Module: scripts/test","body":" Kingkong Modules cage/bin/cliking/lib/optionskingkongkingkong/lib/validation/apikingkong/lib/validation/consumerkingkong/lib/validation/pluginscripts/test Events kingkong#event:sync Module: scripts/test Simple test runner harness. Forks a mocha process so we can control the env a litte better Since: 1.0.0 Author: Eric Satterwhite Requires module:child_process module:mout/lang/clone module:fs module:path module:os module:util × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
